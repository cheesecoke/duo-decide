appId: com.duodecide.app
---
# History: View completed decisions and analytics
# Prerequisites: User is logged in with some completed decisions

- launchApp

# Wait for main screen
- extendedWaitUntil:
   visible: "Decision"
   timeout: 10000

# Navigate to History tab
- tapOn: "History"

# Wait for history page
- extendedWaitUntil:
   visible: "History"
   timeout: 5000

# Verify analytics section is visible
- assertVisible: "Total"

# Check for stats display
- assertVisible: "Decisions"

# If there are completed decisions, they should show
# Note: This test assumes some decisions have been completed
# In a real test setup, we'd seed the database first

# Scroll to see more history items (pagination: 20 per page)
- scroll

# Verify decision cards show completion info
# Completed decisions should display:
#   - Decision title
#   - "Decided by [name]" label
#   - Date/time of completion
#   - Final chosen option

# Verify empty state or decision list renders
# If no completed decisions exist, a placeholder message should show
